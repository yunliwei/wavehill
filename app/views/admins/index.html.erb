<script>
    $(document).ready(function(){


        initTable();

        function initTable() {
            //先销毁表格
            $('#admintable').bootstrapTable('destroy');
            //初始化表格,动态从服务器加载数据
            $("#admintable").bootstrapTable({
                method: "get",  //使用get请求到服务器获取数据
                url: "admins",//获取数据的Servlet地址
                height: $(window).height() -100,
                striped: true,  //表格显示条纹
                pagination: true, //启动分页
                pageSize: 10,  //每页显示的记录数
                pageNumber:1, //当前第几页
                pageList: [10, 15, 20, 25,50,100],  //记录数可选列表
                search: true,  //是否启用查询
                //showColumns: true,  //显示下拉框勾选要显示的列
                showRefresh: true,  //显示刷新按钮
                sidePagination: "server", //表示服务端请求
                //设置为undefined可以获取pageNumber，pageSize，searchText，sortName，sortOrder
                //设置为limit可以获取limit, offset, search, sort, order
                queryParamsType : "undefined",
                queryParams: function queryParams(params) {   //设置查询参数
                    var param = {
                        pageNumber: params.pageNumber,
                        pageSize: params.pageSize

                    };
                    return param;
                },
                onLoadSuccess: function(){  //加载成功时执行
                    layer.msg("加载成功");
                },
                onLoadError: function(){  //加载失败时执行
                    layer.msg("加载数据失败", {time : 1500, icon : 2});
                }
            });
        }

        function queryParams(params) {

            return {
                pageSize: params.pageSize,
                pageIndex: params.pageNumber
            };

        }

        $(function(){
            $('#admintable').on('dbl-click-row.bs.table', function (e, name, args) {
                alert(name.toString());
            });
        });
    });
</script>


<div class="col-sm-12">
  <!-- Example Pagination -->
  <div class="example-wrap">
    <h4 class="example-title">分页：客户端</h4>
    <div class="example">
      <table id="admintable">
        <thead>
        <tr>
          <th data-field="state" data-checkbox="true"></th>
          <th data-field="id">ID</th>
          <th data-field="name">名称</th>
          <th data-field="login">价格</th>
        </tr>
        </thead>
      </table>
    </div>
  </div>
  <!-- End Example Pagination -->
</div>